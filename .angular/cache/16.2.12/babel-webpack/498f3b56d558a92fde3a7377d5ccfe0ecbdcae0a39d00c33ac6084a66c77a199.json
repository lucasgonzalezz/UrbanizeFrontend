{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { NavigationEnd } from '@angular/router';\nexport let MenuUnroutedComponent = class MenuUnroutedComponent {\n  constructor(sessionAjaxService, userAjaxService, dialogService, router) {\n    this.sessionAjaxService = sessionAjaxService;\n    this.userAjaxService = userAjaxService;\n    this.dialogService = dialogService;\n    this.router = router;\n    this.username = '';\n    this.userSesion = null;\n    this.url = '';\n    this.router.events.subscribe(ev => {\n      if (ev instanceof NavigationEnd) {\n        this.url = ev.url;\n      }\n    });\n    this.username = sesionAjaxService.getUsername();\n    this.usuarioAjaxService.getUsuarioByUsername(this.sesionAjaxService.getUsername()).subscribe({\n      next: usuario => {\n        this.userSesion = usuario;\n      },\n      error: err => {\n        console.log(err);\n      }\n    });\n  }\n  ngOnInit() {\n    this.sesionAjaxService.on().subscribe({\n      next: data => {\n        if (data.type === 'login') {\n          this.username = this.sesionAjaxService.getUsername();\n          this.usuarioAjaxService.getUsuarioByUsername(this.sesionAjaxService.getUsername()).subscribe({\n            next: usuario => {\n              this.userSesion = usuario;\n            },\n            error: err => {\n              console.log(err);\n            }\n          });\n        } else if (data.type === 'logout') {\n          this.username = '';\n        }\n      }\n    });\n  }\n};\nMenuUnroutedComponent = __decorate([Component({\n  selector: 'app-menu-unrouted',\n  templateUrl: './menu-unrouted.component.html',\n  styleUrls: ['./menu-unrouted.component.css']\n})], MenuUnroutedComponent);","map":{"version":3,"names":["Component","NavigationEnd","MenuUnroutedComponent","constructor","sessionAjaxService","userAjaxService","dialogService","router","username","userSesion","url","events","subscribe","ev","sesionAjaxService","getUsername","usuarioAjaxService","getUsuarioByUsername","next","usuario","error","err","console","log","ngOnInit","on","data","type","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\Lucas\\Desktop\\urbanize-frontend\\src\\app\\components\\shared\\menu-unrouted\\menu-unrouted.component.ts"],"sourcesContent":["import { HttpErrorResponse } from '@angular/common/http';\nimport { Component, OnInit } from '@angular/core';\nimport { NavigationEnd, Router } from '@angular/router';\nimport { IUser, SessionEvent } from 'src/app/model/model.interfaces';\nimport { SessionAjaxService } from 'src/app/service/session.ajax.service';\nimport { UserAjaxService } from 'src/app/service/user.ajax.service';\n\n@Component({\n  selector: 'app-menu-unrouted',\n  templateUrl: './menu-unrouted.component.html',\n  styleUrls: ['./menu-unrouted.component.css']\n})\nexport class MenuUnroutedComponent implements OnInit {\n\n  username: string = '';\n  userSesion: IUser| null = null;\n  url: string = '';\n\n  constructor(\n    private sessionAjaxService: SessionAjaxService,\n    private userAjaxService: UserAjaxService,\n    private dialogService: DialogService,\n    private router: Router\n  ) { \n    this.router.events.subscribe((ev) => {\n    if (ev instanceof NavigationEnd) {\n      this.url = ev.url;\n    }\n  })\n\n  this.username = sesionAjaxService.getUsername();\n  this.usuarioAjaxService.getUsuarioByUsername(this.sesionAjaxService.getUsername()).subscribe({\n    next: (usuario: IUsuario) => {\n      this.userSesion = usuario;\n    },\n    error: (err: HttpErrorResponse) => {\n      console.log(err);\n    }\n  });\n  }\n\n\n  ngOnInit() {\n    this.sesionAjaxService.on().subscribe({\n      next: (data: SessionEvent) => {\n        if (data.type === 'login') {\n          this.username = this.sesionAjaxService.getUsername();\n          this.usuarioAjaxService.getUsuarioByUsername(this.sesionAjaxService.getUsername()).subscribe({\n            next: (usuario: IUsuario) => {\n              this.userSesion = usuario;\n            },\n            error: (err: HttpErrorResponse) => {\n              console.log(err);\n            }\n          });\n        } else if (data.type === 'logout') {\n          this.username = '';\n        }\n      }\n    });\n  }\n\n}"],"mappings":";AACA,SAASA,SAAS,QAAgB,eAAe;AACjD,SAASC,aAAa,QAAgB,iBAAiB;AAUhD,WAAMC,qBAAqB,GAA3B,MAAMA,qBAAqB;EAMhCC,YACUC,kBAAsC,EACtCC,eAAgC,EAChCC,aAA4B,EAC5BC,MAAc;IAHd,KAAAH,kBAAkB,GAAlBA,kBAAkB;IAClB,KAAAC,eAAe,GAAfA,eAAe;IACf,KAAAC,aAAa,GAAbA,aAAa;IACb,KAAAC,MAAM,GAANA,MAAM;IARhB,KAAAC,QAAQ,GAAW,EAAE;IACrB,KAAAC,UAAU,GAAgB,IAAI;IAC9B,KAAAC,GAAG,GAAW,EAAE;IAQd,IAAI,CAACH,MAAM,CAACI,MAAM,CAACC,SAAS,CAAEC,EAAE,IAAI;MACpC,IAAIA,EAAE,YAAYZ,aAAa,EAAE;QAC/B,IAAI,CAACS,GAAG,GAAGG,EAAE,CAACH,GAAG;;IAErB,CAAC,CAAC;IAEF,IAAI,CAACF,QAAQ,GAAGM,iBAAiB,CAACC,WAAW,EAAE;IAC/C,IAAI,CAACC,kBAAkB,CAACC,oBAAoB,CAAC,IAAI,CAACH,iBAAiB,CAACC,WAAW,EAAE,CAAC,CAACH,SAAS,CAAC;MAC3FM,IAAI,EAAGC,OAAiB,IAAI;QAC1B,IAAI,CAACV,UAAU,GAAGU,OAAO;MAC3B,CAAC;MACDC,KAAK,EAAGC,GAAsB,IAAI;QAChCC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;MAClB;KACD,CAAC;EACF;EAGAG,QAAQA,CAAA;IACN,IAAI,CAACV,iBAAiB,CAACW,EAAE,EAAE,CAACb,SAAS,CAAC;MACpCM,IAAI,EAAGQ,IAAkB,IAAI;QAC3B,IAAIA,IAAI,CAACC,IAAI,KAAK,OAAO,EAAE;UACzB,IAAI,CAACnB,QAAQ,GAAG,IAAI,CAACM,iBAAiB,CAACC,WAAW,EAAE;UACpD,IAAI,CAACC,kBAAkB,CAACC,oBAAoB,CAAC,IAAI,CAACH,iBAAiB,CAACC,WAAW,EAAE,CAAC,CAACH,SAAS,CAAC;YAC3FM,IAAI,EAAGC,OAAiB,IAAI;cAC1B,IAAI,CAACV,UAAU,GAAGU,OAAO;YAC3B,CAAC;YACDC,KAAK,EAAGC,GAAsB,IAAI;cAChCC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;YAClB;WACD,CAAC;SACH,MAAM,IAAIK,IAAI,CAACC,IAAI,KAAK,QAAQ,EAAE;UACjC,IAAI,CAACnB,QAAQ,GAAG,EAAE;;MAEtB;KACD,CAAC;EACJ;CAED;AAlDYN,qBAAqB,GAAA0B,UAAA,EALjC5B,SAAS,CAAC;EACT6B,QAAQ,EAAE,mBAAmB;EAC7BC,WAAW,EAAE,gCAAgC;EAC7CC,SAAS,EAAE,CAAC,+BAA+B;CAC5C,CAAC,C,EACW7B,qBAAqB,CAkDjC"},"metadata":{},"sourceType":"module","externalDependencies":[]}