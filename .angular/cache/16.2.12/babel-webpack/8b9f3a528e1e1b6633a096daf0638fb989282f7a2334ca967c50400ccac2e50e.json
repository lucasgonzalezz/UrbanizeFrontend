{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { NavigationEnd } from '@angular/router';\nexport let MenuUnroutedComponent = class MenuUnroutedComponent {\n  constructor(sesionAjaxService, usuarioAjaxService, dialogService, router) {\n    this.sesionAjaxService = sesionAjaxService;\n    this.usuarioAjaxService = usuarioAjaxService;\n    this.dialogService = dialogService;\n    this.router = router;\n    this.username = '';\n    this.userSesion = null;\n    this.url = '';\n    this.router.events.subscribe(ev => {\n      if (ev instanceof NavigationEnd) {\n        this.url = ev.url;\n      }\n    });\n    this.username = sesionAjaxService.getUsername();\n    this.usuarioAjaxService.getUsuarioByUsername(this.sesionAjaxService.getUsername()).subscribe({\n      next: usuario => {\n        this.userSesion = usuario;\n      },\n      error: err => {\n        console.log(err);\n      }\n    });\n  }\n  ngOnInit() {\n    this.sesionAjaxService.on().subscribe({\n      next: data => {\n        if (data.type === 'login') {\n          this.username = this.sesionAjaxService.getUsername();\n          this.usuarioAjaxService.getUsuarioByUsername(this.sesionAjaxService.getUsername()).subscribe({\n            next: usuario => {\n              this.userSesion = usuario;\n            },\n            error: err => {\n              console.log(err);\n            }\n          });\n        } else if (data.type === 'logout') {\n          this.username = '';\n        }\n      }\n    });\n  }\n};\nMenuUnroutedComponent = __decorate([Component({\n  selector: 'app-menu-unrouted',\n  templateUrl: './menu-unrouted.component.html',\n  styleUrls: ['./menu-unrouted.component.css']\n})], MenuUnroutedComponent);","map":{"version":3,"names":["Component","NavigationEnd","MenuUnroutedComponent","constructor","sesionAjaxService","usuarioAjaxService","dialogService","router","username","userSesion","url","events","subscribe","ev","getUsername","getUsuarioByUsername","next","usuario","error","err","console","log","ngOnInit","on","data","type","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\Lucas\\Desktop\\urbanize-frontend\\src\\app\\components\\shared\\menu-unrouted\\menu-unrouted.component.ts"],"sourcesContent":["import { HttpErrorResponse } from '@angular/common/http';\nimport { Component, OnInit } from '@angular/core';\nimport { NavigationEnd, Router } from '@angular/router';\nimport { DialogService } from 'primeng/dynamicdialog';\nimport { IUsuario, SessionEvent } from 'src/app/model/model.interfaces';\nimport { SesionAjaxService } from 'src/app/service/sesion.ajax.service.service';\nimport { UsuarioAjaxService } from 'src/app/service/usuario.ajax.service.service';\n\n@Component({\n  selector: 'app-menu-unrouted',\n  templateUrl: './menu-unrouted.component.html',\n  styleUrls: ['./menu-unrouted.component.css']\n})\nexport class MenuUnroutedComponent implements OnInit {\n\n  username: string = '';\n  userSesion: IUsuario | null = null;\n  url: string = '';\n\n  constructor(\n    private sesionAjaxService: SesionAjaxService,\n    private usuarioAjaxService: UsuarioAjaxService,\n    private dialogService: DialogService,\n    private router: Router\n  ) { \n    this.router.events.subscribe((ev) => {\n    if (ev instanceof NavigationEnd) {\n      this.url = ev.url;\n    }\n  })\n\n  this.username = sesionAjaxService.getUsername();\n  this.usuarioAjaxService.getUsuarioByUsername(this.sesionAjaxService.getUsername()).subscribe({\n    next: (usuario: IUsuario) => {\n      this.userSesion = usuario;\n    },\n    error: (err: HttpErrorResponse) => {\n      console.log(err);\n    }\n  });\n  }\n\n\n  ngOnInit() {\n    this.sesionAjaxService.on().subscribe({\n      next: (data: SessionEvent) => {\n        if (data.type === 'login') {\n          this.username = this.sesionAjaxService.getUsername();\n          this.usuarioAjaxService.getUsuarioByUsername(this.sesionAjaxService.getUsername()).subscribe({\n            next: (usuario: IUsuario) => {\n              this.userSesion = usuario;\n            },\n            error: (err: HttpErrorResponse) => {\n              console.log(err);\n            }\n          });\n        } else if (data.type === 'logout') {\n          this.username = '';\n        }\n      }\n    });\n  }\n\n}"],"mappings":";AACA,SAASA,SAAS,QAAgB,eAAe;AACjD,SAASC,aAAa,QAAgB,iBAAiB;AAWhD,WAAMC,qBAAqB,GAA3B,MAAMA,qBAAqB;EAMhCC,YACUC,iBAAoC,EACpCC,kBAAsC,EACtCC,aAA4B,EAC5BC,MAAc;IAHd,KAAAH,iBAAiB,GAAjBA,iBAAiB;IACjB,KAAAC,kBAAkB,GAAlBA,kBAAkB;IAClB,KAAAC,aAAa,GAAbA,aAAa;IACb,KAAAC,MAAM,GAANA,MAAM;IARhB,KAAAC,QAAQ,GAAW,EAAE;IACrB,KAAAC,UAAU,GAAoB,IAAI;IAClC,KAAAC,GAAG,GAAW,EAAE;IAQd,IAAI,CAACH,MAAM,CAACI,MAAM,CAACC,SAAS,CAAEC,EAAE,IAAI;MACpC,IAAIA,EAAE,YAAYZ,aAAa,EAAE;QAC/B,IAAI,CAACS,GAAG,GAAGG,EAAE,CAACH,GAAG;;IAErB,CAAC,CAAC;IAEF,IAAI,CAACF,QAAQ,GAAGJ,iBAAiB,CAACU,WAAW,EAAE;IAC/C,IAAI,CAACT,kBAAkB,CAACU,oBAAoB,CAAC,IAAI,CAACX,iBAAiB,CAACU,WAAW,EAAE,CAAC,CAACF,SAAS,CAAC;MAC3FI,IAAI,EAAGC,OAAiB,IAAI;QAC1B,IAAI,CAACR,UAAU,GAAGQ,OAAO;MAC3B,CAAC;MACDC,KAAK,EAAGC,GAAsB,IAAI;QAChCC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;MAClB;KACD,CAAC;EACF;EAGAG,QAAQA,CAAA;IACN,IAAI,CAAClB,iBAAiB,CAACmB,EAAE,EAAE,CAACX,SAAS,CAAC;MACpCI,IAAI,EAAGQ,IAAkB,IAAI;QAC3B,IAAIA,IAAI,CAACC,IAAI,KAAK,OAAO,EAAE;UACzB,IAAI,CAACjB,QAAQ,GAAG,IAAI,CAACJ,iBAAiB,CAACU,WAAW,EAAE;UACpD,IAAI,CAACT,kBAAkB,CAACU,oBAAoB,CAAC,IAAI,CAACX,iBAAiB,CAACU,WAAW,EAAE,CAAC,CAACF,SAAS,CAAC;YAC3FI,IAAI,EAAGC,OAAiB,IAAI;cAC1B,IAAI,CAACR,UAAU,GAAGQ,OAAO;YAC3B,CAAC;YACDC,KAAK,EAAGC,GAAsB,IAAI;cAChCC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;YAClB;WACD,CAAC;SACH,MAAM,IAAIK,IAAI,CAACC,IAAI,KAAK,QAAQ,EAAE;UACjC,IAAI,CAACjB,QAAQ,GAAG,EAAE;;MAEtB;KACD,CAAC;EACJ;CAED;AAlDYN,qBAAqB,GAAAwB,UAAA,EALjC1B,SAAS,CAAC;EACT2B,QAAQ,EAAE,mBAAmB;EAC7BC,WAAW,EAAE,gCAAgC;EAC7CC,SAAS,EAAE,CAAC,+BAA+B;CAC5C,CAAC,C,EACW3B,qBAAqB,CAkDjC"},"metadata":{},"sourceType":"module","externalDependencies":[]}